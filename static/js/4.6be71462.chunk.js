(this.webpackJsonpbestoff=this.webpackJsonpbestoff||[]).push([[4],{36:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.useEffect)((function(){document.title=e?(t.replace?"":"Bestoff "+(t.hyphen?"- ":""))+e:"Bestoff"}),[e,t.hyphen,t.replace])}},37:function(e,t,n){"use strict";function r(e){return JSON.parse(atob(e.replace(/_/g,"/").replace(/-/g,"+")))}function a(e){return btoa(JSON.stringify(e)).replace(/\//g,"_").replace(/\+/g,"-")}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(40),a=Object(r.memoize)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t<0)throw new Error("Negative number are not supported");return t<60&&!n.forceMinutes?Math.floor(t).toString().padStart(2,"0")+"s":t<3600?Math.floor(t/60).toString().padStart(2,"0")+"m"+e(t%60):Math.floor(t/3600)+"h"+e(t%3600,{forceMinutes:!0})}))},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var r=n(35),a=n(0),c=n.n(a),i=n(1),l=n(38),o=n(37),u=n(36);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=n(41),v=n.n(f);function b(){var e=Object(a.useRef)(null),t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],i=n[1],l=Object(a.useMemo)((function(){return new ResizeObserver((function(t){var n,a=Object(r.a)(t,1)[0];return i(p(p({},a.contentRect.toJSON()),{},{scrollWidth:null===(n=e.current)||void 0===n?void 0:n.scrollWidth}))}))}),[i]);return Object(a.useLayoutEffect)((function(){var t=e.current;if(t)return l.observe(t),function(){return l.unobserve(t)}}),[l]),[e,c]}n(64);function m(e){var t=Object(a.useState)({seekbar:0,zoomed:0}),n=Object(r.a)(t,2),i=n[0],l=n[1],o=b(),u=Object(r.a)(o,2),s=u[0],d=u[1],p=b(),f=Object(r.a)(p,2),v=f[0],m=f[1],h=function(e){if(d&&m&&m.scrollWidth){var t=d.width/m.scrollWidth,n=e/d.width-t/2,r=Math.max(0,Math.min(1-t,n));l({seekbar:r,zoomed:n})}else l({seekbar:0,zoomed:0})};return c.a.createElement("div",{className:"Seekbar",ref:s},c.a.createElement("div",{className:"Seekbar--main-wrapper"},c.a.createElement("div",{className:"Seekbar--main"},e.clips.map((function(t){var n=e.currentClip.video===t.videoID&&e.currentClip.clip===t.clipID;return c.a.createElement("div",{key:t.videoID+"_"+t.clipID,className:"Seekbar--clip"+(n?" Seekbar--clip-active":""),style:{flexGrow:t.length}},n&&c.a.createElement("div",{style:{left:100*Math.min(1,Math.max(0,(e.progress-t.bounds[0])/t.length))+"%"}}))}))),c.a.createElement("div",{className:"Seekbar--hover",onMouseMove:function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left;h(n)},onTouchMove:function(e){var t=e.touches[0].target.getBoundingClientRect(),n=e.touches[0].clientX-t.left;h(n)}},c.a.createElement("div",{style:{left:100*i.seekbar+"%",width:d&&(null===m||void 0===m?void 0:m.scrollWidth)?d.width/m.scrollWidth*100+"%":"10%"}}))),c.a.createElement("div",{className:"Seekbar--zoomed"},c.a.createElement("div",null,c.a.createElement("div",{className:"Seekbar--zoomed-inner",style:{left:d&&(null===m||void 0===m?void 0:m.scrollWidth)?-i.zoomed*(m.scrollWidth/d.width)*100+"%":"0%"},ref:v},e.clips.map((function(t,n){return c.a.createElement("div",{key:t.videoID+"_"+t.clipID,className:"Seekbar--zoomed-clip"+(e.currentClip.video===t.videoID&&e.currentClip.clip===t.clipID?" Seekbar--zoomed-clip-active":""),style:{width:3*t.length+"px"},onClick:function(){return e.onClipChange({video:t.videoID,clip:t.clipID})}},c.a.createElement("div",null,"#",n+1))}))))))}n(65);function h(e){var t=e.playlist,n=e.clips,i=Object(a.useState)(0),l=Object(r.a)(i,2),o=l[0],u=l[1],s=Object(a.useRef)(null),d=Object(a.useState)({video:0,clip:0}),f=Object(r.a)(d,2),b=f[0],h=f[1],O=Object(a.useState)(!1),g=Object(r.a)(O,2),j=g[0],y=g[1],E=Object(a.useCallback)((function(e){h(e),y(!1)}),[h,y]),S=Object(a.useCallback)((function(e){var n,r=e.playedSeconds;if(u(r),j){if(j&&!(r<t[b.video][1][b.clip][1])){var a,c;if(b.clip+1>=t[b.video][1].length)return b.video+1>=t.length?void(null===(a=null===(c=s.current)||void 0===c?void 0:c.getInternalPlayer())||void 0===a||a.pauseVideo()):(h({video:b.video+1,clip:0}),void y(!1));h(p(p({},b),{},{clip:b.clip+1})),y(!1)}}else r>=t[b.video][1][b.clip][0]&&r<t[b.video][1][b.clip][1]?y(!0):null===(n=s.current)||void 0===n||n.seekTo(t[b.video][1][b.clip][0])}),[u,j,y,b,t]);return c.a.createElement("div",{className:"Player"},c.a.createElement("div",{className:"Player--embed"},c.a.createElement(v.a,{ref:s,playing:!0,url:"https://youtube.com/watch?v="+t[b.video][0],progressInterval:16,onProgress:S,light:!0,width:"100%",height:"100%",config:{youtube:{playerVars:{autoplay:1,modestbranding:1,start:t[b.video][1][b.clip][0],end:t[b.video][1][b.clip][1]}}}})),c.a.createElement("div",{className:"Player--seekbar"},c.a.createElement(m,{clips:n,currentClip:b,onClipChange:E,progress:o})))}n(66);function O(){var e=Object(i.g)().data,t=Object(a.useMemo)((function(){return Object(o.a)(e)}),[e]);Object(u.a)(t.data.title,{hyphen:!0});var n=Object(a.useMemo)((function(){return Object.entries(t.data.playlist)}),[t]),s=Object(a.useMemo)((function(){return n.flatMap((function(e,t){return Object(r.a)(e,2)[1].map((function(e,n){return{videoID:t,clipID:n,bounds:e,length:e[1]-e[0]}}))}))}),[n]),d=Object(a.useMemo)((function(){return s.map((function(e){return e.length})).reduce((function(e,t){return e+t}))}),[s]);return c.a.createElement("div",{className:"Compilation global--wrapper"},c.a.createElement("h2",null,t.data.title),c.a.createElement("p",null,c.a.createElement("span",null,Object(l.a)(d))," long compilation with"," ",c.a.createElement("span",null,s.length," clips")," across"," ",c.a.createElement("span",null,n.length," videos")," by"," ",c.a.createElement("span",null,t.data.author)),c.a.createElement(h,{playlist:n,clips:s}))}}}]);
//# sourceMappingURL=4.6be71462.chunk.js.map