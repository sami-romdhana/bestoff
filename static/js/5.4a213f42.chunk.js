(this.webpackJsonpbestoff=this.webpackJsonpbestoff||[]).push([[5],{37:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(c.useEffect)((function(){document.title=e?(t.replace?"":"Bestoff "+(t.hyphen?"- ":""))+e:"Bestoff"}),[e,t.hyphen,t.replace])}},38:function(e,t,n){"use strict";function c(e){return JSON.parse(atob(e.replace(/_/g,"/").replace(/-/g,"+")))}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var i=function(e,t){return t.toFixed?Number(t.toFixed(3)):t};function r(e){return btoa(JSON.stringify(e,i)).replace(/\//g,"_").replace(/\+/g,"-")}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(42),i=Object(c.memoize)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t<0)throw new Error("Negative number are not supported");return t<60&&!n.forceMinutes?Math.floor(t).toString().padStart(2,"0")+"s":t<3600?Math.floor(t/60).toString().padStart(2,"0")+"m"+e(t%60):Math.floor(t/3600)+"h"+e(t%3600,{forceMinutes:!0})}))},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var c=n(36),i=n(1),r=n(0),o=n(2),l=n(40),a=n(38),s=n(37),u=n(39),d=n(43),b=n.n(d);function j(){var e=Object(r.useRef)(null),t=Object(r.useState)(null),n=Object(c.a)(t,2),i=n[0],o=n[1],l=Object(r.useMemo)((function(){return new ResizeObserver((function(t){var n,i=Object(c.a)(t,1)[0];return o(Object(u.a)(Object(u.a)({},i.contentRect.toJSON()),{},{scrollWidth:null===(n=e.current)||void 0===n?void 0:n.scrollWidth}))}))}),[o]);return Object(r.useLayoutEffect)((function(){var t=e.current;if(t)return l.observe(t),function(){return l.unobserve(t)}}),[l]),[e,i]}n(66);function p(e){var t=Object(r.useState)({seekbar:0,zoomed:0}),n=Object(c.a)(t,2),o=n[0],l=n[1],a=j(),s=Object(c.a)(a,2),u=s[0],d=s[1],b=j(),p=Object(c.a)(b,2),v=p[0],f=p[1],h=function(e){if(d&&f&&f.scrollWidth){var t=d.width/f.scrollWidth,n=e/d.width-t/2,c=Math.max(0,Math.min(1-t,n));l({seekbar:c,zoomed:n})}else l({seekbar:0,zoomed:0})};return Object(i.jsxs)("div",{className:"Seekbar",ref:u,children:[Object(i.jsxs)("div",{className:"Seekbar--main-wrapper",children:[Object(i.jsx)("div",{className:"Seekbar--main",children:e.clips.map((function(t){var n=e.currentClip.video===t.videoID&&e.currentClip.clip===t.clipID;return Object(i.jsx)("div",{className:"Seekbar--clip"+(n?" Seekbar--clip-active":""),style:{flexGrow:t.length},children:n&&Object(i.jsx)("div",{style:{left:100*Math.min(1,Math.max(0,(e.progress-t.bounds[0])/t.length))+"%"}})},t.videoID+"_"+t.clipID)}))}),Object(i.jsx)("div",{className:"Seekbar--move",onMouseMove:function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left;h(n)},onTouchMove:function(e){var t=e.touches[0].target.getBoundingClientRect(),n=e.touches[0].clientX-t.left;h(n)}}),Object(i.jsx)("div",{className:"Seekbar--hover",children:Object(i.jsx)("div",{style:{left:100*o.seekbar+"%",width:d&&(null===f||void 0===f?void 0:f.scrollWidth)?d.width/f.scrollWidth*100+"%":"10%"}})})]}),Object(i.jsx)("div",{className:"Seekbar--zoomed",children:Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"Seekbar--zoomed-inner",style:{left:d&&(null===f||void 0===f?void 0:f.scrollWidth)?-o.zoomed*(f.scrollWidth/d.width)*100+"%":"0%"},ref:v,children:e.clips.map((function(t,n){return Object(i.jsx)("div",{className:"Seekbar--zoomed-clip"+(e.currentClip.video===t.videoID&&e.currentClip.clip===t.clipID?" Seekbar--zoomed-clip-active":""),style:{width:3*t.length+"px"},onClick:function(){return e.onClipChange({video:t.videoID,clip:t.clipID})},children:Object(i.jsxs)("div",{children:["#",n+1]})},t.videoID+"_"+t.clipID)}))})})})]})}n(67);function v(e){var t=e.playlist,n=e.clips,o=Object(r.useState)(0),l=Object(c.a)(o,2),a=l[0],s=l[1],d=Object(r.useRef)(null),j=Object(r.useState)({video:0,clip:0}),v=Object(c.a)(j,2),f=v[0],h=v[1],O=Object(r.useState)(!1),m=Object(c.a)(O,2),g=m[0],x=m[1],y=Object(r.useCallback)((function(e){h(e),x(!1)}),[h,x]),S=Object(r.useCallback)((function(e){var n,c=e.playedSeconds;if(s(c),g){if(g&&!(c<t[f.video][1][f.clip][1])){var i,r;if(f.clip+1>=t[f.video][1].length)return f.video+1>=t.length?void(null===(i=d.current)||void 0===i||null===(r=i.getInternalPlayer())||void 0===r||r.pauseVideo()):(h({video:f.video+1,clip:0}),void x(!1));h(Object(u.a)(Object(u.a)({},f),{},{clip:f.clip+1})),x(!1)}}else c>=t[f.video][1][f.clip][0]&&c<t[f.video][1][f.clip][1]?x(!0):null===(n=d.current)||void 0===n||n.seekTo(t[f.video][1][f.clip][0])}),[s,g,x,f,t]);return Object(i.jsxs)("div",{className:"Player",children:[Object(i.jsx)("div",{className:"Player--embed",children:Object(i.jsx)(b.a,{ref:d,playing:!0,url:"https://youtube.com/watch?v="+t[f.video][0],progressInterval:16,onProgress:S,light:!0,width:"100%",height:"100%",config:{youtube:{playerVars:{autoplay:1,modestbranding:1,start:t[f.video][1][f.clip][0],end:t[f.video][1][f.clip][1]}}}})}),Object(i.jsx)("div",{className:"Player--seekbar",children:Object(i.jsx)(p,{clips:n,currentClip:f,onClipChange:y,progress:a})})]})}n(68);function f(){var e=Object(o.g)().data,t=Object(r.useMemo)((function(){return Object(a.a)(e)}),[e]);Object(s.a)(t.data.title,{hyphen:!0});var n=Object(r.useMemo)((function(){return Object.entries(t.data.playlist)}),[t]),u=Object(r.useMemo)((function(){return n.flatMap((function(e,t){return Object(c.a)(e,2)[1].map((function(e,n){return{videoID:t,clipID:n,bounds:e,length:e[1]-e[0]}}))}))}),[n]),d=Object(r.useMemo)((function(){return u.map((function(e){return e.length})).reduce((function(e,t){return e+t}))}),[u]);return Object(i.jsxs)("div",{className:"Compilation global--wrapper",children:[Object(i.jsx)("h2",{children:t.data.title}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:Object(l.a)(d)})," long compilation with"," ",Object(i.jsxs)("span",{children:[u.length," clips"]})," across"," ",Object(i.jsxs)("span",{children:[n.length," videos"]})," by"," ",Object(i.jsx)("span",{children:t.data.author})]}),Object(i.jsx)(v,{playlist:n,clips:u})]})}}}]);
//# sourceMappingURL=5.4a213f42.chunk.js.map