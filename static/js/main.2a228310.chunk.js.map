{"version":3,"sources":["components/Header/index.tsx","hooks/title.ts","components/Homepage/index.tsx","helpers/time.ts","helpers/payload.ts","hooks/dimensions.ts","components/Seekbar/index.tsx","components/Player/index.tsx","components/Compilation/index.tsx","hooks/input.ts","components/EditorStart/index.tsx","components/Editor/index.tsx","components/Footer/logo.svg","components/Footer/index.tsx","components/App/index.tsx","index.tsx"],"names":["Header","className","to","href","target","rel","useTitle","title","opts","useEffect","document","replace","hyphen","Homepage","formatDuration","memoize","length","Error","forceMinutes","Math","floor","toString","padStart","decode","encodedPayload","JSON","parse","atob","encode","payloadObj","btoa","stringify","useDimensions","ref","useRef","useState","dimensions","setDimensions","resizeObserver","useMemo","ResizeObserver","entry","contentRect","toJSON","scrollWidth","current","useLayoutEffect","observe","unobserve","Seekbar","props","seekbar","zoomed","lefts","setLefts","seekbarRef","seekbarDimensions","zoomedRef","zoomedDimensions","onHover","x","seekbarLength","width","value","cappedValue","max","min","clips","map","clip","isActive","currentClip","video","videoID","clipID","key","style","flexGrow","left","progress","bounds","onMouseMove","e","rect","getBoundingClientRect","clientX","onTouchMove","touches","index","onClick","onClipChange","Player","playlist","setProgress","playerRef","setCurrentClip","ready","setReady","useCallback","request","onProgress","playedSeconds","getInternalPlayer","pauseVideo","seekTo","playing","url","progressInterval","light","height","config","youtube","playerVars","autoplay","modestbranding","start","end","Compilation","encodedData","useParams","data","payload","Object","entries","flatMap","reduce","a","b","author","useInput","defaultValue","setValue","onChange","inputProps","defaultProjectPayload","version","EditorStart","history","useHistory","code","codeInput","valid","load","push","type","placeholder","disabled","Editor","titleInput","authorInput","youtubeURL","youtubeInput","setYouTubeURL","youtubeID","match","YOUTUBE_URL_REGEX","getYoutubeIDFromURL","clipStart","setClipStart","clipEnd","setClipEnd","setPlaylist","playlistEntries","setStart","getCurrentTime","setEnd","done","alert","obj","newPlaylist","undefined","currentPayload","currentURL","window","location","protocol","host","copyURL","navigator","clipboard","writeText","setVideo","id","skipTo","playVideo","controls","showinfo","PlaylistVideoClips","expanded","setExpanded","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref","svgRef","enableBackground","viewBox","transform","d","strokeWidth","fill","ForwardRef","forwardRef","Footer","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2a228310.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./style.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"Header\">\r\n      <div className=\"global--wrapper\">\r\n        <Link to=\"/\" className=\"Header--title\">\r\n          <h1>\r\n            <span>bestoff</span>.video\r\n          </h1>\r\n        </Link>\r\n        <div>\r\n          <a\r\n            href=\"https://github.com/sami-romdhana/bestoff\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            Github\r\n          </a>\r\n          <Link to=\"/editor\" className=\"Header--create\">\r\n            Create\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\n\r\ninterface TitleHookOpts {\r\n  hyphen?: boolean;\r\n  replace?: boolean;\r\n}\r\n\r\nexport default function useTitle(title?: string, opts: TitleHookOpts = {}) {\r\n  useEffect(() => {\r\n    document.title = !!title\r\n      ? (opts.replace ? \"\" : \"Bestoff \" + (opts.hyphen ? \"- \" : \"\")) + title\r\n      : \"Bestoff\";\r\n  }, [title, opts.hyphen, opts.replace]);\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useTitle from \"hooks/title\";\r\nimport \"./style.css\";\r\n\r\nexport default function Homepage() {\r\n  useTitle();\r\n\r\n  return (\r\n    <div className=\"Homepage\">\r\n      <div className=\"global--wrapper\">\r\n        <h2>Create compilations in minutes</h2>\r\n\r\n        <Link to=\"/editor\">Try it now</Link>\r\n\r\n        <p>Free, no sign-up required</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { memoize } from \"lodash\";\r\n\r\ninterface FormatDurationOpts {\r\n  forceMinutes?: boolean;\r\n}\r\n\r\nexport const formatDuration = memoize(function formatDuration(\r\n  length: number,\r\n  opts: FormatDurationOpts = {}\r\n): string {\r\n  if (length < 0) {\r\n    throw new Error(\"Negative number are not supported\");\r\n  }\r\n\r\n  if (length < 60 && !opts.forceMinutes) {\r\n    return Math.floor(length).toString().padStart(2, \"0\") + \"s\";\r\n  }\r\n\r\n  if (length < 3600) {\r\n    return (\r\n      Math.floor(length / 60)\r\n        .toString()\r\n        .padStart(2, \"0\") +\r\n      \"m\" +\r\n      formatDuration(length % 60)\r\n    );\r\n  }\r\n\r\n  return (\r\n    Math.floor(length / 3600) +\r\n    \"h\" +\r\n    formatDuration(length % 3600, { forceMinutes: true })\r\n  );\r\n});\r\n","export function decode(encodedPayload: string) {\n  return JSON.parse(atob(encodedPayload.replace(/_/g, \"/\").replace(/-/g, \"+\")));\n}\n\nexport function encode(payloadObj: object) {\n  return btoa(JSON.stringify(payloadObj))\n    .replace(/\\//g, \"_\")\n    .replace(/\\+/g, \"-\");\n}\n","import {\n  useRef,\n  useState,\n  MutableRefObject,\n  useLayoutEffect,\n  useMemo,\n} from \"react\";\n\ntype ExtendedDOMRect = DOMRectReadOnly & { scrollWidth?: number };\n\nexport default function useDimensions<T extends HTMLElement>(): [\n  MutableRefObject<any>,\n  ExtendedDOMRect | null\n] {\n  const ref = useRef<T>(null);\n  const [dimensions, setDimensions] = useState<ExtendedDOMRect | null>(null);\n\n  const resizeObserver = useMemo(\n    () =>\n      new ResizeObserver(([entry]) =>\n        setDimensions({\n          ...entry.contentRect.toJSON(),\n          scrollWidth: ref.current?.scrollWidth,\n        })\n      ),\n    [setDimensions]\n  );\n\n  useLayoutEffect(() => {\n    const current = ref.current; // enclose current so the reference can be used in the unsubscribe\n    if (current) {\n      resizeObserver.observe(current);\n      return () => resizeObserver.unobserve(current);\n    }\n\n    return undefined;\n  }, [resizeObserver]);\n\n  return [ref, dimensions];\n}\n","import React, { useState } from \"react\";\nimport { IClip, ISelectedClip } from \"types\";\nimport useDimensions from \"hooks/dimensions\";\nimport \"./style.css\";\n\ninterface SeekbarProps {\n  clips: Array<IClip>;\n  currentClip: ISelectedClip;\n  onClipChange: (clip: ISelectedClip) => unknown;\n  progress: number;\n}\n\nexport default function Seekbar(props: SeekbarProps) {\n  const [lefts, setLefts] = useState<{ seekbar: number; zoomed: number }>({\n    seekbar: 0,\n    zoomed: 0,\n  });\n  const [seekbarRef, seekbarDimensions] = useDimensions();\n  const [zoomedRef, zoomedDimensions] = useDimensions();\n\n  const onHover = (x: number) => {\n    if (\n      !seekbarDimensions ||\n      !zoomedDimensions ||\n      !zoomedDimensions.scrollWidth\n    ) {\n      setLefts({ seekbar: 0, zoomed: 0 });\n      return;\n    }\n    const seekbarLength =\n      seekbarDimensions.width / zoomedDimensions.scrollWidth;\n    const value = x / seekbarDimensions.width - seekbarLength / 2;\n    const cappedValue = Math.max(0, Math.min(1 - seekbarLength, value));\n    setLefts({ seekbar: cappedValue, zoomed: value });\n  };\n\n  const onMouseMove = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    const rect = (e.target as HTMLDivElement).getBoundingClientRect();\n    const x = e.clientX - rect.left;\n\n    onHover(x);\n  };\n\n  const onTouchMove = (e: React.TouchEvent<HTMLDivElement>) => {\n    const rect = (e.touches[0]\n      .target as HTMLDivElement).getBoundingClientRect();\n    const x = e.touches[0].clientX - rect.left;\n\n    onHover(x);\n  };\n\n  return (\n    <div className=\"Seekbar\" ref={seekbarRef}>\n      <div className=\"Seekbar--main-wrapper\">\n        <div className=\"Seekbar--main\">\n          {props.clips.map((clip) => {\n            const isActive =\n              props.currentClip.video === clip.videoID &&\n              props.currentClip.clip === clip.clipID;\n            return (\n              <div\n                key={clip.videoID + \"_\" + clip.clipID}\n                className={\n                  \"Seekbar--clip\" + (isActive ? \" Seekbar--clip-active\" : \"\")\n                }\n                style={{ flexGrow: clip.length }}\n              >\n                {isActive && (\n                  <div\n                    style={{\n                      left:\n                        Math.min(\n                          1,\n                          Math.max(\n                            0,\n                            (props.progress - clip.bounds[0]) / clip.length\n                          )\n                        ) *\n                          100 +\n                        \"%\",\n                    }}\n                  />\n                )}\n              </div>\n            );\n          })}\n        </div>\n        <div\n          className=\"Seekbar--hover\"\n          onMouseMove={onMouseMove}\n          onTouchMove={onTouchMove}\n        >\n          <div\n            style={{\n              left: lefts.seekbar * 100 + \"%\",\n              width:\n                seekbarDimensions && zoomedDimensions?.scrollWidth\n                  ? (seekbarDimensions.width / zoomedDimensions.scrollWidth) *\n                      100 +\n                    \"%\"\n                  : \"10%\",\n            }}\n          />\n        </div>\n      </div>\n      <div className=\"Seekbar--zoomed\">\n        <div>\n          <div\n            className=\"Seekbar--zoomed-inner\"\n            style={{\n              left:\n                seekbarDimensions && zoomedDimensions?.scrollWidth\n                  ? -lefts.zoomed *\n                      (zoomedDimensions.scrollWidth / seekbarDimensions.width) *\n                      100 +\n                    \"%\"\n                  : \"0%\",\n            }}\n            ref={zoomedRef}\n          >\n            {props.clips.map((clip, index) => (\n              <div\n                key={clip.videoID + \"_\" + clip.clipID}\n                className={\n                  \"Seekbar--zoomed-clip\" +\n                  (props.currentClip.video === clip.videoID &&\n                  props.currentClip.clip === clip.clipID\n                    ? \" Seekbar--zoomed-clip-active\"\n                    : \"\")\n                }\n                style={{ width: clip.length * 3 + \"px\" }}\n                onClick={() =>\n                  props.onClipChange({ video: clip.videoID, clip: clip.clipID })\n                }\n              >\n                <div>#{index + 1}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useCallback, useRef } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { IClip, IPlaylist, ISelectedClip } from \"types\";\r\nimport Seekbar from \"components/Seekbar\";\r\nimport \"./style.css\";\r\n\r\ntype Entries<T> = {\r\n  [K in keyof T]: [K, T[K]];\r\n}[keyof T][];\r\n\r\ninterface PlayerProps {\r\n  playlist: Entries<IPlaylist>;\r\n  clips: Array<IClip>;\r\n}\r\n\r\nexport function Player(props: PlayerProps) {\r\n  const { playlist, clips } = props;\r\n  const [progress, setProgress] = useState<number>(0);\r\n  const playerRef = useRef<ReactPlayer>(null);\r\n  const [currentClip, setCurrentClip] = useState<ISelectedClip>({\r\n    video: 0,\r\n    clip: 0,\r\n  });\r\n  const [ready, setReady] = useState<boolean>(false);\r\n\r\n  const onClipChange = useCallback(\r\n    (request: ISelectedClip) => {\r\n      setCurrentClip(request);\r\n      setReady(false);\r\n    },\r\n    [setCurrentClip, setReady]\r\n  );\r\n\r\n  const onProgress = useCallback(\r\n    ({ playedSeconds }: { playedSeconds: number }) => {\r\n      setProgress(playedSeconds);\r\n\r\n      if (!ready) {\r\n        if (\r\n          playedSeconds >=\r\n            playlist[currentClip.video][1][currentClip.clip][0] &&\r\n          playedSeconds < playlist[currentClip.video][1][currentClip.clip][1]\r\n        ) {\r\n          setReady(true);\r\n        } else {\r\n          playerRef.current?.seekTo(\r\n            playlist[currentClip.video][1][currentClip.clip][0]\r\n          );\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (\r\n        !ready ||\r\n        playedSeconds < playlist[currentClip.video][1][currentClip.clip][1]\r\n      )\r\n        return;\r\n\r\n      if (currentClip.clip + 1 >= playlist[currentClip.video][1].length) {\r\n        if (currentClip.video + 1 >= playlist.length) {\r\n          (playerRef.current?.getInternalPlayer() as any)?.pauseVideo();\r\n          return;\r\n        }\r\n\r\n        setCurrentClip({ video: currentClip.video + 1, clip: 0 });\r\n        setReady(false);\r\n        return;\r\n      }\r\n\r\n      setCurrentClip({ ...currentClip, clip: currentClip.clip + 1 });\r\n      setReady(false);\r\n    },\r\n    [setProgress, ready, setReady, currentClip, playlist]\r\n  );\r\n\r\n  return (\r\n    <div className=\"Player\">\r\n      <div className=\"Player--embed\">\r\n        <ReactPlayer\r\n          ref={playerRef}\r\n          playing={true}\r\n          url={\"https://youtube.com/watch?v=\" + playlist[currentClip.video][0]}\r\n          progressInterval={16}\r\n          onProgress={onProgress}\r\n          light={true}\r\n          width={\"100%\"}\r\n          height={\"100%\"}\r\n          config={{\r\n            youtube: {\r\n              playerVars: {\r\n                autoplay: 1,\r\n                modestbranding: 1,\r\n                start: playlist[currentClip.video][1][currentClip.clip][0],\r\n                end: playlist[currentClip.video][1][currentClip.clip][1],\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"Player--seekbar\">\r\n        <Seekbar\r\n          clips={clips}\r\n          currentClip={currentClip}\r\n          onClipChange={onClipChange}\r\n          progress={progress}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { ICompilation, IClip } from \"types\";\r\nimport { formatDuration } from \"helpers/time\";\r\nimport { decode } from \"helpers/payload\";\r\nimport useTitle from \"hooks/title\";\r\nimport { Player } from \"components/Player\";\r\nimport \"./style.css\";\r\n\r\nexport default function Compilation() {\r\n  const { data: encodedData } = useParams();\r\n\r\n  const payload: ICompilation = useMemo(() => decode(encodedData), [\r\n    encodedData,\r\n  ]);\r\n\r\n  useTitle(payload.data.title, { hyphen: true });\r\n\r\n  const playlist = useMemo(() => Object.entries(payload.data.playlist), [\r\n    payload,\r\n  ]);\r\n\r\n  const clips: Array<IClip> = useMemo(\r\n    () =>\r\n      playlist.flatMap(([, clips], videoID) =>\r\n        clips.map((bounds, clipID) => ({\r\n          videoID,\r\n          clipID,\r\n          bounds,\r\n          length: bounds[1] - bounds[0],\r\n        }))\r\n      ),\r\n    [playlist]\r\n  );\r\n\r\n  const length: number = useMemo(\r\n    () => clips.map((clip) => clip.length).reduce((a, b) => a + b),\r\n    [clips]\r\n  );\r\n\r\n  return (\r\n    <div className=\"Compilation global--wrapper\">\r\n      <h2>{payload.data.title}</h2>\r\n\r\n      <p>\r\n        <span>{formatDuration(length)}</span> long compilation with{\" \"}\r\n        <span>{clips.length} clips</span> across{\" \"}\r\n        <span>{playlist.length} videos</span> by{\" \"}\r\n        <span>{payload.data.author}</span>\r\n      </p>\r\n\r\n      <Player playlist={playlist} clips={clips} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport default function useInput(\r\n  defaultValue: string = \"\"\r\n): [\r\n  string,\r\n  {\r\n    value: string;\r\n    onChange: (e: React.ChangeEvent<HTMLInputElement>) => unknown;\r\n  },\r\n  (value: string) => unknown\r\n] {\r\n  const [value, setValue] = useState<string>(defaultValue);\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const inputProps = {\r\n    value,\r\n    onChange,\r\n  };\r\n\r\n  return [value, inputProps, setValue];\r\n}\r\n","import React, { useMemo, useCallback } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { ICompilation } from \"types\";\nimport { encode, decode } from \"helpers/payload\";\nimport useInput from \"hooks/input\";\nimport \"./style.css\";\n\nconst defaultProjectObj: ICompilation = {\n  version: \"1.0.0\",\n  data: {\n    title: \"\",\n    author: \"\",\n    playlist: {},\n  },\n};\n\nconst defaultProjectPayload = encode(defaultProjectObj);\n\nexport default function EditorStart() {\n  const history = useHistory();\n  const [code, codeInput] = useInput();\n\n  const valid = useMemo(() => {\n    try {\n      decode(code);\n      return true;\n    } catch {\n      return false;\n    }\n  }, [code]);\n\n  const load = useCallback(() => {\n    history.push(\"/editor/\" + code);\n  }, [history, code]);\n\n  return (\n    <div className=\"EditorStart\">\n      <Link to={\"/editor/\" + defaultProjectPayload}>\n        <div className=\"EditorStart--new\">Create a new project</div>\n      </Link>\n\n      <div className=\"EditorStart--or\">Or</div>\n\n      <div className=\"EditorStart--load\">\n        <div>Load an existing project</div>\n\n        <input\n          type=\"text\"\n          placeholder=\"Paste your project code\"\n          {...codeInput}\n        />\n\n        <button disabled={!valid} onClick={load}>\n          Load\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React, {\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  useCallback,\r\n  useEffect,\r\n} from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { ICompilation, IPlaylist } from \"types\";\r\nimport { formatDuration } from \"helpers/time\";\r\nimport { encode, decode } from \"helpers/payload\";\r\nimport useTitle from \"hooks/title\";\r\nimport useInput from \"hooks/input\";\r\nimport \"./style.css\";\r\n\r\nexport default function Editor() {\r\n  useTitle(\"Editor\");\r\n  const history = useHistory();\r\n  const { data: encodedData } = useParams();\r\n  const payload: ICompilation = useMemo(() => decode(encodedData), [\r\n    encodedData,\r\n  ]);\r\n  const [title, titleInput] = useInput(payload.data.title);\r\n  const [author, authorInput] = useInput(payload.data.author);\r\n  const [youtubeURL, youtubeInput, setYouTubeURL] = useInput();\r\n  const youtubeID = useMemo(() => getYoutubeIDFromURL(youtubeURL), [\r\n    youtubeURL,\r\n  ]);\r\n  const playerRef = useRef<ReactPlayer>(null);\r\n  const [clipStart, setClipStart] = useState<number | undefined>();\r\n  const [clipEnd, setClipEnd] = useState<number | undefined>();\r\n  const [playlist, setPlaylist] = useState<IPlaylist>(payload.data.playlist);\r\n  const playlistEntries = useMemo(() => Object.entries(playlist), [playlist]);\r\n\r\n  const setStart = useCallback(() => {\r\n    if (!playerRef.current) return;\r\n    setClipStart(playerRef.current.getCurrentTime());\r\n  }, [setClipStart]);\r\n\r\n  const setEnd = useCallback(() => {\r\n    if (!playerRef.current) return;\r\n    setClipEnd(playerRef.current.getCurrentTime());\r\n  }, [setClipEnd]);\r\n\r\n  const done = useCallback(() => {\r\n    if (!youtubeID || !clipStart || !clipEnd) {\r\n      return;\r\n    }\r\n    if (clipStart >= clipEnd) {\r\n      alert(\"Clip can't start after its end\");\r\n      return;\r\n    }\r\n    const newPlaylist = deepClone(playlist);\r\n    if (!newPlaylist[youtubeID]) newPlaylist[youtubeID] = [];\r\n\r\n    newPlaylist[youtubeID].push([clipStart, clipEnd]);\r\n    setPlaylist(newPlaylist);\r\n    setClipStart(undefined);\r\n    setClipEnd(undefined);\r\n  }, [youtubeID, playlist, clipStart, clipEnd]);\r\n\r\n  const currentPayload = useMemo(\r\n    () =>\r\n      encode({\r\n        version: \"1.0.0\",\r\n        data: {\r\n          title,\r\n          author,\r\n          playlist,\r\n        },\r\n      }),\r\n    [title, author, playlist]\r\n  );\r\n\r\n  useEffect(() => {\r\n    history.replace(\"/editor/\" + currentPayload);\r\n  }, [history, currentPayload]);\r\n\r\n  const currentURL = useMemo(\r\n    () =>\r\n      window.location.protocol +\r\n      \"//\" +\r\n      window.location.host +\r\n      \"/#/compilation/\" +\r\n      currentPayload,\r\n    [currentPayload]\r\n  );\r\n\r\n  const copyURL = useCallback(() => {\r\n    navigator.clipboard.writeText(currentURL);\r\n  }, [currentURL]);\r\n\r\n  const setVideo = useCallback(\r\n    (id: string) => {\r\n      setYouTubeURL(\"https://youtube.com/watch?v=\" + id);\r\n    },\r\n    [setYouTubeURL]\r\n  );\r\n\r\n  const skipTo = useCallback((to: number) => {\r\n    playerRef.current?.seekTo(to);\r\n    (playerRef.current?.getInternalPlayer() as any)?.playVideo();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Editor\">\r\n      <div className=\"Editor--video\">\r\n        <div>\r\n          <div className=\"Editor--video-input\">\r\n            <input\r\n              type=\"url\"\r\n              {...youtubeInput}\r\n              placeholder=\"Paste a YouTube video URL here\"\r\n            />\r\n            {!!youtubeURL.length && youtubeID === null && <span>&times;</span>}\r\n          </div>\r\n          {youtubeID ? (\r\n            <>\r\n              <div className=\"Editor--player\">\r\n                <ReactPlayer\r\n                  ref={playerRef}\r\n                  controls={true}\r\n                  width={\"100%\"}\r\n                  height={\"100%\"}\r\n                  url={\"https://youtube.com/watch?v=\" + youtubeID}\r\n                  config={{\r\n                    youtube: {\r\n                      playerVars: {\r\n                        showinfo: 0,\r\n                      },\r\n                    },\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"Editor--clippers\">\r\n                <button onClick={setStart}>Start clip here</button>\r\n\r\n                <div className=\"Editor--boundaries\">\r\n                  [\r\n                  {clipStart ? (\r\n                    <span onClick={() => skipTo(clipStart)}>\r\n                      {formatDuration(clipStart)}\r\n                    </span>\r\n                  ) : (\r\n                    \"?\"\r\n                  )}\r\n                  , {clipEnd ? formatDuration(clipEnd) : \"?\"}]\r\n                </div>\r\n\r\n                <button onClick={setEnd}>End clip here</button>\r\n              </div>\r\n\r\n              <div className=\"Editor--add\">\r\n                <button onClick={done}>Add to playlist</button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"Editor--video-placeholder\">\r\n              <div>Enter a video first</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"Editor--content\">\r\n        <div className=\"Editor--content-part\">\r\n          <h2>Details</h2>\r\n          <label>\r\n            <span>Title</span>\r\n            <input\r\n              type=\"text\"\r\n              {...titleInput}\r\n              placeholder=\"Compilation title\"\r\n            />\r\n          </label>\r\n          <label>\r\n            <span>Author</span>\r\n            <input type=\"text\" {...authorInput} placeholder=\"Your name\" />\r\n          </label>\r\n        </div>\r\n        <div className=\"Editor--content-part Editor--share\">\r\n          <h2>Share</h2>\r\n          <input type=\"text\" value={currentURL} />{\" \"}\r\n          <div>\r\n            <button onClick={copyURL}>Copy URL</button>{\" \"}\r\n            <a href={currentURL} target=\"_blank\" rel=\"noopener noreferrer\">\r\n              Open\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div className=\"Editor--content-part\">\r\n          <h2>Playlist</h2>\r\n          {playlistEntries.length ? (\r\n            playlistEntries.map(([video, clips]) => (\r\n              <PlaylistVideoClips\r\n                video={video}\r\n                clips={clips}\r\n                setVideo={setVideo}\r\n                skipTo={skipTo}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"Editor--playlist-empty\">No clips added</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface PlaylistVideoClipsProps {\r\n  video: string;\r\n  clips: Array<[number, number]>;\r\n  setVideo: (id: string) => unknown;\r\n  skipTo: (to: number) => unknown;\r\n}\r\n\r\nfunction PlaylistVideoClips(props: PlaylistVideoClipsProps) {\r\n  const { video, clips, setVideo, skipTo } = props;\r\n  const [expanded, setExpanded] = useState<boolean>(false);\r\n\r\n  return (\r\n    <div className=\"Editor--playlist-video\" key={video}>\r\n      <div>\r\n        <div>\r\n          <pre onClick={() => setVideo(video)}>{video}</pre> ({clips.length}{\" \"}\r\n          clips)\r\n        </div>\r\n        <button\r\n          onClick={() => setExpanded(!expanded)}\r\n          disabled={clips.length === 0}\r\n        >\r\n          {expanded ? \"-\" : \"+\"}\r\n        </button>\r\n      </div>\r\n\r\n      {expanded && (\r\n        <ul>\r\n          {clips.map((clip) => (\r\n            <li className=\"Editor--playlist-clip\" key={clip[0] + \"_\" + clip[1]}>\r\n              <pre onClick={() => skipTo(clip[0])}>\r\n                {formatDuration(clip[0])}\r\n              </pre>{\" \"}\r\n              -{\" \"}\r\n              <pre onClick={() => skipTo(clip[1])}>\r\n                {formatDuration(clip[1])}\r\n              </pre>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst YOUTUBE_URL_REGEX = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n\r\nfunction getYoutubeIDFromURL(url: string) {\r\n  const match = url.match(YOUTUBE_URL_REGEX);\r\n\r\n  if (match && match[2].length >= 11) {\r\n    return match[2];\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction deepClone<T>(obj: T) {\r\n  return JSON.parse(JSON.stringify(obj)) as T;\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", {\n  id: \"defs2\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      enableBackground: \"new\"\n    },\n    id: \"svg8\",\n    viewBox: \"0 0 150 150\",\n    height: \"150mm\",\n    width: \"150mm\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0,-147)\",\n    id: \"layer1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"rect3713\",\n    d: \"M 1.88e-4,146.99993 V 297.00007 H 149.99981 V 146.99993 Z m 31.5836,16.76848 c 3.292594,0 5.695821,0.82332 7.210415,2.46962 1.547519,1.6463 2.354154,3.96714 2.420006,6.9634 h -5.778458 c 0.06585,-1.25119 -0.279849,-2.22207 -1.037148,-2.91352 -0.757296,-0.69144 -1.744866,-1.03714 -2.963124,-1.03714 -1.38289,0 -2.419996,0.31285 -3.111439,0.93844 -0.658519,0.59267 -0.988055,1.465 -0.988055,2.61741 0,0.92193 0.19762,1.69571 0.59273,2.32131 0.39511,0.62559 1.119365,1.25129 2.172994,1.87688 0.724371,0.46096 1.481989,0.87237 2.272213,1.23455 0.790223,0.32926 1.564007,0.69165 2.321306,1.08676 0.757295,0.36218 1.498232,0.77358 2.222603,1.23455 0.757295,0.46096 1.448699,1.00428 2.074291,1.62987 1.053631,1.02071 1.794049,2.12351 2.222087,3.30885 0.428038,1.18533 0.642337,2.56813 0.642337,4.14858 0,3.32548 -0.872853,5.97641 -2.617928,7.95197 -1.745072,1.97555 -4.247367,2.96313 -7.507033,2.96313 -3.325519,0 -5.827813,-0.80664 -7.507036,-2.42001 -1.646296,-1.64629 -2.601019,-4.11574 -2.864424,-7.40833 h 5.87716 c 0.164629,1.28411 0.609396,2.23883 1.333767,2.86442 0.757296,0.59267 1.925802,0.88935 3.506248,0.88935 1.119481,0 2.025213,-0.34573 2.716628,-1.03714 0.691446,-0.69145 1.037148,-1.61384 1.037148,-2.76624 0,-0.98778 -0.263319,-1.84343 -0.790133,-2.56781 -0.526815,-0.72437 -1.498219,-1.43249 -2.914034,-2.1239 -1.21826,-0.59267 -2.452981,-1.23453 -3.704166,-1.92598 -1.251186,-0.69144 -2.469743,-1.53145 -3.655076,-2.51922 -1.086554,-0.95486 -1.893192,-2.00813 -2.420006,-3.16053 -0.49389,-1.18534 -0.740524,-2.70006 -0.740524,-4.54391 0,-3.12797 0.889021,-5.58073 2.667021,-7.35873 1.778,-1.81092 4.214593,-2.71663 7.30963,-2.71663 z m 25.371579,0.49403 h 6.371187 l 7.605738,35.8066 h -6.815605 l -1.234551,-5.77846 h -5.828067 l -1.234551,5.77846 h -6.420797 z m 21.667415,0 h 6.46988 l 4.0504,13.77952 4.3956,-13.77952 h 6.02496 v 35.8066 h -5.23483 v -21.97799 l -5.18573,15.70602 -5.18624,-15.70602 v 21.97799 h -5.33404 z m 31.051848,0 h 16.74264 v 5.67976 h -5.28443 v 24.39799 h 5.28443 v 5.72885 h -16.74264 v -5.72885 h 5.38313 V 169.9422 h -5.38313 z m -49.656918,13.08809 -2.0252,11.35951 h 3.901572 z m 0.197403,26.49916 c 3.292594,0 5.827736,1.00425 7.605739,3.01273 1.777997,1.97555 2.667018,4.79071 2.667018,8.44548 v 13.92783 c 0,3.62186 -0.889021,6.437 -2.667018,8.44548 -1.778003,1.97556 -4.313145,2.96313 -7.605739,2.96313 -3.424295,0 -6.008973,-1.0371 -7.754048,-3.11144 -1.745073,-2.07434 -2.617928,-4.83995 -2.617928,-8.29717 V 215.3079 c 0,-3.49014 0.872855,-6.27244 2.617928,-8.34678 1.745075,-2.07433 4.329753,-3.11143 7.754048,-3.11143 z m -39.003303,0.49402 h 9.927043 c 3.292594,0 5.877271,0.93804 7.754048,2.81482 1.876777,1.84384 2.815333,4.46138 2.815333,7.85275 0,2.96333 -0.658553,5.23567 -1.975591,6.81612 -1.28411,1.54752 -2.995935,2.61747 -5.13612,3.21014 l 7.852751,15.11277 h -8.001063 l -6.815604,-14.17433 v 14.17433 h -6.420797 z m 57.41097,0 h 6.46988 l 4.0504,13.77952 4.3956,-13.77952 h 6.02496 v 35.8066 h -5.23483 v -21.97798 l -5.18573,15.7055 -5.18624,-15.7055 v 21.97798 h -5.33404 z m 29.471068,0 h 10.12496 c 6.51933,0 9.77873,3.65464 9.77873,10.96419 v 13.87822 c 0,7.17786 -3.2594,10.76679 -9.77873,10.76679 h -10.12496 z m -47.878735,4.93872 c -1.218258,0 -2.239198,0.4114 -3.062345,1.23455 -0.823148,0.82313 -1.234549,2.09072 -1.234549,3.80287 v 15.85381 c 0,1.74508 0.411401,3.02933 1.234549,3.85248 0.823147,0.79022 1.844087,1.18546 3.062345,1.18546 1.185334,0 2.189589,-0.4114 3.012737,-1.23455 0.823147,-0.85608 1.234551,-2.12417 1.234551,-3.80339 v -15.85381 c 0,-1.67923 -0.411404,-2.93013 -1.234551,-3.75326 -0.823148,-0.85607 -1.827403,-1.28416 -3.012737,-1.28416 z m 53.805505,0.49403 v 24.49669 h 4.19819 c 2.56822,0 3.85248,-1.81089 3.85248,-5.43274 v -13.1377 c 0,-1.71215 -0.34571,-3.1278 -1.03715,-4.24729 -0.65852,-1.11948 -1.59707,-1.67896 -2.81533,-1.67896 z m -86.388011,0.2961 v 11.85354 h 2.963127 c 1.44874,0 2.568229,-0.56 3.358452,-1.67948 0.823148,-1.11948 1.234548,-2.55182 1.234548,-4.2969 0,-2.27188 -0.444251,-3.81945 -1.333251,-4.64261 -0.889,-0.82314 -2.222272,-1.23455 -4.000272,-1.23455 z m -6.223394,34.35191 h 6.322097 v 14.57017 h 6.914306 v -14.57017 h 6.420797 v 35.80712 h -6.420797 v -15.11277 h -6.914306 v 15.11277 h -6.322097 z m 35.546152,0 h 6.371187 l 7.605738,35.80712 h -6.815605 l -1.234551,-5.77846 h -5.828067 l -1.234551,5.77846 h -6.420797 z m 22.013125,0 h 7.30963 l 7.26054,20.94136 v -20.94136 h 5.67924 v 35.80712 h -6.27197 l -8.14937,-20.94084 v 20.94084 h -5.82807 z m 35.842258,0 h 6.37118 l 7.60626,35.80712 h -6.81612 l -1.23455,-5.77846 h -5.82807 l -1.23455,5.77846 h -6.42028 z m -54.793038,13.08809 -2.0252,11.35951 h 3.901572 z m 57.855378,0 -2.0252,11.35951 h 3.90209 z\",\n    style: {\n      strokeWidth: 0.39473686\n    },\n    fill: \"white\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.1d2a7805.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as Logo } from \"./logo.svg\";\nimport \"./style.css\";\n\nexport default function Footer() {\n  return (\n    <div className=\"Footer\">\n      <div>bestoff.video &copy; 2020</div>\n      <div>\n        <a\n          href=\"https://sami.romdhana.info\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Logo />\n        </a>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Header from \"components/Header\";\r\nimport Homepage from \"components/Homepage\";\r\nimport Compilation from \"components/Compilation\";\r\nimport EditorStart from \"components/EditorStart\";\r\nimport Editor from \"components/Editor\";\r\nimport Footer from \"components/Footer\";\r\nimport \"./style.css\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <div className=\"App--header\">\r\n          <Header />\r\n        </div>\r\n\r\n        <div className=\"App--content\">\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Homepage />\r\n            </Route>\r\n            <Route exact path=\"/compilation/:data\">\r\n              <Compilation />\r\n            </Route>\r\n            <Route exact path={\"/editor\"}>\r\n              <EditorStart />\r\n            </Route>\r\n            <Route exact path={\"/editor/:data\"}>\r\n              <Editor />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n\r\n        <div className=\"App--footer\">\r\n          <Footer />\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}